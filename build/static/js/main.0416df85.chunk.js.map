{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","services/apiPixabay.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","getFetch","query","page","perPage","url","axios","get","then","response","data","Searchbar","state","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","tags","onClick","ImageGalleryItemImage","src","alt","ImageGallery","handleClick","largeImageURL","onClose","gallery","map","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","Spinner","Loader","color","height","width","style","margin","timeout","App","sQuery","isLoading","error","scroll","showModal","onChangeQuery","fetchHits","hits","prevState","length","catch","finally","loadMoreButton","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0416df85.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__FCKkB\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1PZXc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2mLrE\",\"Modal\":\"Modal_Modal__2Afsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__R02je\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3tsp-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__Fk-Ip\"};","import axios from 'axios';\r\n\r\nconst getFetch = (query, page, perPage) => {\r\n  let key = `20004677-e0c621e42f0d912e7de39a0de`;\r\n\r\n  let url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${key}`;\r\n\r\n  return axios.get(url).then(response => response.data);\r\n}\r\n\r\n\r\nexport default getFetch;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, tags, onClick }) => {\r\n  return (\r\n    <>\r\n      <li key={id} className={s.ImageGalleryItem}>\r\n        <img\r\n          className={s.ImageGalleryItemImage}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          onClick={onClick}\r\n        />\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageUrl: PropTypes.string,\r\n  id: PropTypes.number,\r\n  onClick: PropTypes.func.isRequired,\r\n  tags: PropTypes.string,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  handleClick = (largeImageURL) => {\r\n    this.props.onClose(largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    const { gallery } = this.props;\r\n    return (\r\n      <ul className={s.ImageGallery}>\r\n        {gallery.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            onClick={() => this.handleClick(largeImageURL)}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string,\r\n      tags: PropTypes.string,\r\n    })\r\n  ).isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className={s.Button} type=\"button\" onClick={this.props.onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n    window.addEventListener(\"click\", this.handleBackdropClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    window.addEventListener(\"click\", this.handleBackdropClick);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={largeImageURL} alt=\"No alt images\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.Loader}\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        style={{ margin: \"auto\" }}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport getFetch from './services/apiPixabay';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Button from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\nimport Loader from './components/Loader/Loader';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    sQuery: '',\r\n    page: 1,\r\n    perPage: 12,\r\n    gallery: [],\r\n    isLoading: false,\r\n    error: false,\r\n    scroll: false,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n    tags: '',\r\n  };\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.sQuery !== this.state.sQuery) {\r\n      this.fetchHits();\r\n    }\r\n    if (this.state.scroll === true) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      sQuery: query,\r\n      page: 1,\r\n      gallery: [],\r\n    });\r\n  };\r\n\r\n  fetchHits = () => {\r\n    const { page, sQuery, perPage } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    getFetch(sQuery, page, perPage)\r\n      .then(data => data.hits)\r\n      .then(gallery => {\r\n        this.setState(prevState => ({\r\n          gallery: [...prevState.gallery, ...gallery],\r\n          page: prevState.page + 1,\r\n          hits: gallery.length,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  loadMoreButton = () => {\r\n    this.fetchHits();\r\n    if (this.state.page > 1) {\r\n      this.setState({ scroll: true });\r\n    }\r\n  };\r\n\r\n  toggleModal = (largeImageURL, tags) => {\r\n    this.setState({ tags: tags });\r\n    this.setState({ largeImageURL: largeImageURL });\r\n    this.setState({ scroll: false });\r\n    this.setState({ showModal: !this.state.showModal });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      gallery,\r\n      isLoading,\r\n      error,\r\n      showModal,\r\n      largeImageURL,\r\n      tags,\r\n    } = this.state;\r\n    const shouldRenderLoadMoreButton = gallery.length > 0 && !isLoading;\r\n    return (\r\n      <>\r\n        {error && <p>Sorry, error</p>}\r\n\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n\r\n        {gallery.length > 0 && (\r\n          <ImageGallery gallery={gallery} onClose={this.toggleModal} />\r\n        )}\r\n        {shouldRenderLoadMoreButton && <Button onClick={this.loadMoreButton} />}\r\n\r\n        {isLoading && <Loader />}\r\n\r\n        {showModal && (\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            largeImageURL={largeImageURL}\r\n            tags={tags}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__v6Nzd\",\"SearchForm\":\"Searchbar_SearchForm__1YVFE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3z4cR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2ZT_g\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2AXxF\"};"],"sourceRoot":""}